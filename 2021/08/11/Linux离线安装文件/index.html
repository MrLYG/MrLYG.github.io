<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Linux离线安装文件 | Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="本文食用方法，先看apt-get离线安装软件方法和pip离线安装方法，最后的example是在Ubuntu 16.04.7环境下安装robotframework的运行环境（包括python，chrome，robotframework，selenium等） 首先是apt-get 安装软件包和pip安装软件包的原理，然后举例如何使用apt-get 安装 python3.7 和 pip3 以及如何使用p">
<meta property="og:type" content="article">
<meta property="og:title" content="Linux离线安装文件">
<meta property="og:url" content="http://example.com/2021/08/11/Linux%E7%A6%BB%E7%BA%BF%E5%AE%89%E8%A3%85%E6%96%87%E4%BB%B6/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="本文食用方法，先看apt-get离线安装软件方法和pip离线安装方法，最后的example是在Ubuntu 16.04.7环境下安装robotframework的运行环境（包括python，chrome，robotframework，selenium等） 首先是apt-get 安装软件包和pip安装软件包的原理，然后举例如何使用apt-get 安装 python3.7 和 pip3 以及如何使用p">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2021-08-11T02:07:56.000Z">
<meta property="article:modified_time" content="2021-08-11T02:08:37.352Z">
<meta property="article:author" content="Yuangang Li">
<meta property="article:tag" content="Linux">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-Linux离线安装文件" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/08/11/Linux%E7%A6%BB%E7%BA%BF%E5%AE%89%E8%A3%85%E6%96%87%E4%BB%B6/" class="article-date">
  <time datetime="2021-08-11T02:07:56.000Z" itemprop="datePublished">2021-08-11</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Linux离线安装文件
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>本文食用方法，先看apt-get离线安装软件方法和pip离线安装方法，最后的example是在Ubuntu 16.04.7环境下安装robotframework的运行环境（包括python，chrome，robotframework，selenium等）</p>
<p>首先是apt-get 安装软件包和pip安装软件包的原理，然后举例如何使用apt-get 安装 python3.7 和 pip3 以及如何使用pip3安装robotframework和selenium</p>
<h1 id="apt-get-离线安装软件"><a href="#apt-get-离线安装软件" class="headerlink" title="apt-get 离线安装软件"></a>apt-get 离线安装软件</h1><h2 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h2><p>与其说是原理不如说是流程，写清原理还是蛮复杂的。</p>
<p>apt-get install 流程</p>
<p>步骤一：访问/etc/apt/sources.list内的地址 去找对应的软件包 (!一会会讲到）</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 这就是/etc/apt/sources.list具体内容</span></span><br><span class="line">deb http://mirrors.163.com/debian/ wheezy main non-free contrib</span><br><span class="line">deb http://mirrors.163.com/debian/ wheezy-proposed-updates main non-free contrib</span><br></pre></td></tr></table></figure>

<p>步骤二：进行软件包依赖关系检查，找到支持该软件正常运行的所有软件包；</p>
<p>步骤三：从软件源所指 的镜像站点中，下载相关软件包，并存放在/var/cache/apt/archive；</p>
<p>步骤四：解压软件包，并自动完成应用程序的安装和配置，注意安装过程就是使用dpkg安装-不了解dpkg可以自行百度，本文只涉及” dpkg -i  ./* “操作（将本目录下的所有.deb文件进行安装）</p>
<p>通过上述流程可以发现两种进行离线安装的方法（欢迎补充）：（不要着急具体实现会在下文方法一和二中具体展示）</p>
<ol>
<li>将需要的软件包放在离线服务器上；在步骤一中，修改/etc/apt/sources.list ，添加本地的软件包源映射。</li>
<li>将需要的软件包放在离线服务器上，根据步骤四，进入到软件包所在的目录，执行 dpkg -i  ./* 操作。</li>
</ol>
<hr>
<p>需要两台服务器，一台有网的服务器，一台无网需要进行离线安装的服务器</p>
<p>❗apt-get intsall 一些包后 XXXX 软件的安装包就下载到了/var/cache/apt/archives目录下 。</p>
<p>首先在联网的服务器下进行apt-get intsall  xxx ,你所安装的软件的安装包就会缓存在/var/cache/apt/archives目录下。</p>
<p>然后把 /var/cache/apt/archives 中的安装包复制到无网的服务器上进行安装操作即可。</p>
<h2 id="方法一：修改-etc-apt-sources-list-，添加本地的软件包源映射"><a href="#方法一：修改-etc-apt-sources-list-，添加本地的软件包源映射" class="headerlink" title="方法一：修改/etc/apt/sources.list ，添加本地的软件包源映射"></a>方法一：修改/etc/apt/sources.list ，添加本地的软件包源映射</h2><h3 id="1-在联网环境下将-var-cache-apt-archives目录下的安装包（-deb）打压缩成安装包（具体命令按照执行即可）"><a href="#1-在联网环境下将-var-cache-apt-archives目录下的安装包（-deb）打压缩成安装包（具体命令按照执行即可）" class="headerlink" title="1.在联网环境下将/var/cache/apt/archives目录下的安装包（*.deb）打压缩成安装包（具体命令按照执行即可）"></a>1.在联网环境下将/var/cache/apt/archives目录下的安装包（*.deb）打压缩成安装包（具体命令按照执行即可）</h3><ol>
<li><p>在 / 目录下 先判断是否有offlinePackage的目录， 有的话随便起一个名字创建一个目录名并替换一下所有出现offlinePackage的部分</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo mkdir /offlinePackage </span><br></pre></td></tr></table></figure></li>
<li><p>将apt-get intsall 所下载的deb包拷贝到上述新建的文件夹下</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo cp -r /var/cac8he/apt/archives  /offlinePackage</span><br></pre></td></tr></table></figure></li>
<li><p>修改文件夹的权限，可读可写可执行</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo chmod 777 -R /offlinePackage/</span><br></pre></td></tr></table></figure></li>
<li><p>建立deb包的依赖关系</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo dpkg-scanpackages /offlinePackage/ /dev/null |gzip &gt;/offlinePackage/Packages.gz</span><br></pre></td></tr></table></figure>

<p>如果出现错误：sudo: dpkg-scanpackages: command not found，则需要安装dpkg-dev工具</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install dpkg-dev</span><br></pre></td></tr></table></figure></li>
<li><p>打包软件成为压缩包</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo tar zcvf offlinePackage.tar.gz /offlinePackage/</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="2-将保存offlinePackage-tar-gz上传到离线的服务器上"><a href="#2-将保存offlinePackage-tar-gz上传到离线的服务器上" class="headerlink" title="2.将保存offlinePackage.tar.gz上传到离线的服务器上"></a>2.将保存offlinePackage.tar.gz上传到离线的服务器上</h3><pre><code>   这一步操作可以使用ftp或者随便什么操作，能将文件传上到离线服务器就行，就不进行具体解释了
</code></pre>
<h3 id="3-在另外一台Ubuntu上进行离线安装"><a href="#3-在另外一台Ubuntu上进行离线安装" class="headerlink" title="3.在另外一台Ubuntu上进行离线安装"></a>3.在另外一台Ubuntu上进行离线安装</h3><ol>
<li><p>将offlinePackage.tar.gz复制到根目录下，解压</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo tar zxvf offlinePackage.tar.gz -C /</span><br></pre></td></tr></table></figure></li>
<li><p>添加到系统源</p>
<ul>
<li>注意：我们在添加之前可以先将原来的源备份</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo cp /etc/apt/sources.list /etc/apt/sources.list.back</span><br></pre></td></tr></table></figure>

<ul>
<li>将安装包所在和源路径添加到系统源source.list</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vi /etc/apt/sources.list</span><br></pre></td></tr></table></figure>

<ul>
<li>内容如下：（注意：offlinePackage前面有一个空格）</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">deb file:/// offlinePackage/</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p>更新系统源</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br></pre></td></tr></table></figure>

<p>输出：<br>W: The repository ‘file: offlinePackage/ Release’ does not have a Release file.<br>N: Data from such a repository can’t be authenticated and is therefore potentially dangerous to use.<br>N: See apt-secure(8) manpage for repository creation and user configuration details.<br>大概意思是，这是不安全的更新源</p>
</li>
<li><p>进行离线安装</p>
<p>此时，在没有网络的情况下，我们就可以安装我们之间下载的XXXX软件了</p>
<p>比如安装build-essential，<strong>注意：由于上面已经提示不安全了，所以安装软件时，必须要加–allow-unauthenticated</strong></p>
<p>否则报错 E: There were unauthenticated packages and -y was used without –allow-unauthenticated</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get -y install python3-pip --allow-unauthenticated</span><br></pre></td></tr></table></figure></li>
</ol>
<p>本部分参考链接：</p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/xiao987334176/p/9875480.html#autoid-2-6-0">Ubuntu离线安装软件包</a></p>
<h2 id="方法二：进入到软件包所在的目录，执行-dpkg-i-操作"><a href="#方法二：进入到软件包所在的目录，执行-dpkg-i-操作" class="headerlink" title="方法二：进入到软件包所在的目录，执行 dpkg -i  ./* 操作"></a>方法二：进入到软件包所在的目录，执行 dpkg -i  ./* 操作</h2><h3 id="1-与方法一步骤一样"><a href="#1-与方法一步骤一样" class="headerlink" title="1.与方法一步骤一样"></a>1.与方法一步骤一样</h3><h3 id="2-与方法一步骤一样"><a href="#2-与方法一步骤一样" class="headerlink" title="2.与方法一步骤一样"></a>2.与方法一步骤一样</h3><h3 id="3-在另外一台Ubuntu上进行离线安装-1"><a href="#3-在另外一台Ubuntu上进行离线安装-1" class="headerlink" title="3.在另外一台Ubuntu上进行离线安装"></a>3.在另外一台Ubuntu上进行离线安装</h3><ol>
<li><p>将offlinePackage.tar.gz复制到根目录下，解压</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo tar zxvf offlinePackage.tar.gz -C /</span><br></pre></td></tr></table></figure></li>
<li><p>进入解压后的offlinePackage目录并进入archives下找到所有的.deb结尾的软件包</p>
</li>
<li><p>执行 dpkg -i ./* </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dpkg -i ./*</span><br></pre></td></tr></table></figure>

<p>此时软件就会自动安装，完成后可能会出错误，不要去管，会报一些依赖的错误，但是通过dpkg的方式会把相关依赖一起安装，只是没有通过apt-get管理罢了。通过具体命令去检测就可以，比如你安装的是gcc软件 就可以使用gcc -v 查看下版本 以检测gcc 是否存在</p>
</li>
</ol>
<h1 id="pip-离线安装软件"><a href="#pip-离线安装软件" class="headerlink" title="pip 离线安装软件"></a>pip 离线安装软件</h1><p>pip离线安装相对便捷一些，首先也是两个机器一个有网的一个无网等待离线安装的且两个服务器0S一样，python版本一样</p>
<h3 id="1-在有网的服务器下"><a href="#1-在有网的服务器下" class="headerlink" title="1.在有网的服务器下;"></a>1.在有网的服务器下;</h3><ol>
<li><p>进入到随便一个目录（举例进入到/root目），并创建一个目录</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~</span><br><span class="line">mkdir lyg</span><br></pre></td></tr></table></figure></li>
<li><p>现在online机器执行download，下载所有依赖package到当前目录</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip download xxxxx</span><br></pre></td></tr></table></figure>

<p>xxxxx代表任意package</p>
</li>
<li><p>此时所有你需要安装的package已经安装到了/root/lyg/目录下，将所有的package打压缩包</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar zcvf package.tar.gz /root/lyg/</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="2-将上传package-tar-gz到离线服务器上"><a href="#2-将上传package-tar-gz到离线服务器上" class="headerlink" title="2.将上传package.tar.gz到离线服务器上"></a>2.将上传package.tar.gz到离线服务器上</h3><pre><code> 这一步操作可以使用ftp或者随便什么操作，能将文件传上到离线服务器就行，就不进行具体解释了
</code></pre>
<h3 id="3-在离线服务器上进行安装"><a href="#3-在离线服务器上进行安装" class="headerlink" title="3.在离线服务器上进行安装"></a>3.在离线服务器上进行安装</h3><ol>
<li><p>进入package.tar.gz所在目录并解压package.tar.gz安装包到根目录</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar zxvf package.tar.gz -C /</span><br></pre></td></tr></table></figure></li>
<li><p>安装你想要安装的软件，执行以下命令 (其中/package就是存放离线安装包的目录）</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install --no-index --find-links=file:/package robotframework-selenium2library==3.0.0</span><br></pre></td></tr></table></figure></li>
</ol>
<p>本部分参考链接：包含online和offline架构不一样的情况</p>
<p><a target="_blank" rel="noopener" href="https://imshuai.com/python-pip-install-package-offline-tensorflow">Python pip离线安装package方法总结（以TensorFlow为例）</a></p>
<h1 id="example"><a href="#example" class="headerlink" title="example"></a>example</h1><h2 id="首先在联网服务器下，注意整个过程服务器不能关机！"><a href="#首先在联网服务器下，注意整个过程服务器不能关机！" class="headerlink" title="首先在联网服务器下，注意整个过程服务器不能关机！"></a>首先在联网服务器下，注意整个过程服务器不能关机！</h2><p>联网服务器下因为可以直接使用apt-get从网络上下载会比较简单</p>
<h3 id="安装build-essential"><a href="#安装build-essential" class="headerlink" title="安装build-essential"></a>安装build-essential</h3><p>安装build-essential的目的主要是为了安装gcc </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">apt-get update</span><br><span class="line">apt-get install build-essential package</span><br></pre></td></tr></table></figure>

<h3 id="安装python3-7-3-amp-安装pip3"><a href="#安装python3-7-3-amp-安装pip3" class="headerlink" title="安装python3.7.3 &amp; 安装pip3"></a>安装python3.7.3 &amp; 安装pip3</h3><p><a href="Linux%20Ubuntu%20%E2%86%92%20apt-get%20&%20pip%20%E7%A6%BB%E7%BA%BF%E5%AE%89%E8%A3%85%20python3%207%E5%92%8Crobotf%208b928a1535f544eab0f6402c4588cc6f/%E5%AE%89%E8%A3%85python3%207%203%E4%B8%AD%E5%A6%82%E6%9E%9C%E5%87%BA%E7%8E%B0%E9%97%AE%E9%A2%98%E6%9F%A5%E7%9C%8B%E6%AD%A4%E9%A1%B5%E9%9D%A2%207db0afd0c9f8499caf1a6a31347c659d.md">安装python3.7.3中如果出现问题查看此页面</a></p>
<ol>
<li><p>安装依赖库</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">**sudo apt-get install zlib1g-dev libbz2-dev libssl-dev libncurses5-dev libsqlite3-dev libreadline-dev tk-dev libgdbm-dev libdb-dev libpcap-dev xz-utils libexpat1-dev**</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install liblzma-dev libffi-dev libc6-dev</span><br></pre></td></tr></table></figure></li>
<li><p>下载python3.7.3的安装包</p>
<p>从python官网下载</p>
<p>方法一：<a target="_blank" rel="noopener" href="https://www.python.org/downloads/release/python-373/">https://www.python.org/downloads/release/python-373/</a></p>
<p>方法二：wget ‘<a target="_blank" rel="noopener" href="https://www.python.org/ftp/python/3.7.3/Python-3.7.3.tgz">https://www.python.org/ftp/python/3.7.3/Python-3.7.3.tgz</a></p>
</li>
<li><p>安装python（按顺序执行即可）</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">tar zxvf Python-3.7.3.tgz</span><br><span class="line"><span class="built_in">cd</span> Python-3.7.3</span><br><span class="line">sudo mkdir -p /usr/<span class="built_in">local</span>/python3</span><br><span class="line">./configure --prefix=/usr/<span class="built_in">local</span>/python3  --enable-optimizations</span><br><span class="line">make</span><br><span class="line">sudo make install</span><br></pre></td></tr></table></figure></li>
<li><p>删除软链接 — 先执行查看版本，如果有则证明软链接已存在，需要先删去以前的再重新建立</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo rm -rf /usr/bin/python3</span><br><span class="line">sudo rm -rf /usr/bin/pip3</span><br></pre></td></tr></table></figure></li>
<li><p>建立新的软连接</p>
<p>#添加python3的软链接</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ln -s /usr/<span class="built_in">local</span>/python3/bin/python3.7 /usr/bin/python3</span><br></pre></td></tr></table></figure>

<p>#添加 pip3 的软链接</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ln -s /usr/<span class="built_in">local</span>/python3/bin/pip3.7 /usr/bin/pip3</span><br></pre></td></tr></table></figure></li>
<li><p>检测版本</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">python3 -V</span><br><span class="line">pip3 -V</span><br></pre></td></tr></table></figure></li>
</ol>
<p>本部分参考：</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/Boys_Wu/article/details/103049572?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-3.nonecase&depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-3.nonecase">在Ubuntu 16.04.6 LTS上升级python2.7或者python3.5到3.7实录_Boys_Wu的博客-CSDN博客</a></p>
<h3 id="安装google-chrome"><a href="#安装google-chrome" class="headerlink" title="安装google-chrome"></a>安装google-chrome</h3><ol>
<li><p>安装依赖</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install libxss1 libappindicator1 libindicator7</span><br></pre></td></tr></table></figure></li>
<li><p>创建目录software并下载Chrome安装包</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mkdir /root/software</span><br><span class="line"><span class="built_in">cd</span> /root/software</span><br><span class="line">wget https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb</span><br></pre></td></tr></table></figure></li>
<li><p>安装</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install -f </span><br></pre></td></tr></table></figure></li>
<li><p>查看chrome浏览器版本</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo dpkg -i google-chrome*.deb</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="安装chromedriver"><a href="#安装chromedriver" class="headerlink" title="安装chromedriver"></a>安装chromedriver</h3><ol>
<li><p>安装xvfb以便我们可以无头奔跑地运行Chrome</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install xvfb</span><br></pre></td></tr></table></figure></li>
<li><p>安装unzip</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install unzip</span><br></pre></td></tr></table></figure></li>
<li><p>在浏览器中下载chromedriver安装包</p>
<p>chrome版本与chromedriver版本对照表：</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/yoyocat915/article/details/80580066">https://blog.csdn.net/yoyocat915/article/details/80580066</a></p>
<p>chromedriver下载路径：</p>
<p><a target="_blank" rel="noopener" href="http://npm.taobao.org/mirrors/chromedriver/">http://npm.taobao.org/mirrors/chromedriver/</a></p>
</li>
<li><p>解压缩</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">unzip chromedriver_linux64.zip --&gt; chromedriver</span><br></pre></td></tr></table></figure>

<p>再把chromedriver 复制到 /usr/bin/下 相当于放到环境变量 ，不用再重新设置软连接了</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp chromedriver  /usr/bin/</span><br></pre></td></tr></table></figure>

<p>赋予权限 </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod +x chromedriver</span><br></pre></td></tr></table></figure></li>
</ol>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/ezreal_tao/article/details/99714210"></a></p>
<h3 id="安装robotframework-selenium2library-3-0-0-amp-robotframework-4-0-3"><a href="#安装robotframework-selenium2library-3-0-0-amp-robotframework-4-0-3" class="headerlink" title="安装robotframework-selenium2library==3.0.0&amp; robotframework==4.0.3"></a>安装robotframework-selenium2library==3.0.0&amp; robotframework==4.0.3</h3><p>在software目录下 创建pip_package目录将pip要安装的package下载下来</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mkdir pip_package</span><br><span class="line"><span class="built_in">cd</span> pip_package</span><br><span class="line">pip3 download robotframework-selenium2library==3.0.0</span><br><span class="line">pip3 download robotframework==4.0.3</span><br></pre></td></tr></table></figure>

<p>![Linux%20Ubuntu%20%E2%86%92%20apt-get%20&amp;%20pip%20%E7%A6%BB%E7%BA%BF%E5%AE%89%E8%A3%85%20python3%207%E5%92%8Crobotf%208b928a1535f544eab0f6402c4588cc6f/Untitled.png](D:\CodeSoftware\myblog\source_posts\Linux Ubuntu → apt-get &amp; pip 离线安装 python3 7和robotf 8b928a1535f544eab0f6402c4588cc6f\Untitled.png)</p>
<h3 id="找到robot可执行文件放入-usr-bin-目录相当于配置robot可执行文件到全局变量"><a href="#找到robot可执行文件放入-usr-bin-目录相当于配置robot可执行文件到全局变量" class="headerlink" title="找到robot可执行文件放入/usr/bin 目录相当于配置robot可执行文件到全局变量"></a>找到robot可执行文件放入/usr/bin 目录相当于配置robot可执行文件到全局变量</h3><p>一般robot都在/usr/local/python3/bin目录下</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /usr/<span class="built_in">local</span>/python3/bin</span><br><span class="line">cp robot /usr/bin</span><br></pre></td></tr></table></figure>

<h3 id="最后，在联网的服务器下"><a href="#最后，在联网的服务器下" class="headerlink" title="最后，在联网的服务器下"></a>最后，在联网的服务器下</h3><ol>
<li><p>在 /var/cache/apt/archives目录中已经保存了agt-get所有操作下载的软件的缓存    根据apt-get方法执行</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sudo mkdir /offlinePackage </span><br><span class="line">sudo cp -r /var/cac8he/apt/archives  /offlinePackage</span><br><span class="line">sudo chmod 777 -R /offlinePackage/</span><br><span class="line">sudo dpkg-scanpackages /offlinePackage/ /dev/null |gzip &gt;/offlinePackage/Packages.gz</span><br><span class="line">sudo apt-get install dpkg-dev</span><br><span class="line">sudo tar zcvf offlinePackage.tar.gz /offlinePackage/</span><br></pre></td></tr></table></figure></li>
<li><p>在/root/software/pip_package下存放着所有执行pip3命令所需要的安装包   执行命令进行打包</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar zcvf package.tar.gz /root/software/pip_package</span><br></pre></td></tr></table></figure></li>
</ol>
<p>然后将offlinePackage.tar.gz和package.tar.gz以及下图中的chromedriver_linux64.zip，google-chrome-stable_current_amd64.deb，Python-3.7.3.tgz一起传输到离线的服务器上。</p>
<p>![Linux%20Ubuntu%20%E2%86%92%20apt-get%20&amp;%20pip%20%E7%A6%BB%E7%BA%BF%E5%AE%89%E8%A3%85%20python3%207%E5%92%8Crobotf%208b928a1535f544eab0f6402c4588cc6f/Untitled%201.png](D:\CodeSoftware\myblog\source_posts\Linux Ubuntu → apt-get &amp; pip 离线安装 python3 7和robotf 8b928a1535f544eab0f6402c4588cc6f\Untitled 1.png)</p>
<h2 id="在离线服务器上进行离线安装"><a href="#在离线服务器上进行离线安装" class="headerlink" title="在离线服务器上进行离线安装"></a>在离线服务器上进行离线安装</h2><h3 id="安装apt-get缓存的所有包"><a href="#安装apt-get缓存的所有包" class="headerlink" title="安装apt-get缓存的所有包"></a>安装apt-get缓存的所有包</h3><ol>
<li><p>将offlinePackage.tar.gz复制到根目录下，解压</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo tar zxvf offlinePackage.tar.gz -C /</span><br></pre></td></tr></table></figure></li>
<li><p>进入解压后的offlinePackage目录并进入archives下找到所有的.deb结尾的软件包</p>
</li>
<li><p>执行 dpkg -i ./* </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dpkg -i ./*</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="安装python3-7-3-amp-安装pip3-amp-安装google-chrome-amp-安装google-chrome"><a href="#安装python3-7-3-amp-安装pip3-amp-安装google-chrome-amp-安装google-chrome" class="headerlink" title="安装python3.7.3 &amp; 安装pip3 &amp;安装google-chrome &amp; 安装google-chrome"></a>安装python3.7.3 &amp; 安装pip3 &amp;安装google-chrome &amp; 安装google-chrome</h3><p>以上操作和在有网的服务器上安装操作一样，只不过现在在离线的机器上已经下载好了想要的安装包，执行命令解压和编译安装即可</p>
<h3 id="安装robotframework-selenium2library-3-0-0-amp-robotframework-4-0-3-1"><a href="#安装robotframework-selenium2library-3-0-0-amp-robotframework-4-0-3-1" class="headerlink" title="安装robotframework-selenium2library==3.0.0&amp; robotframework==4.0.3"></a>安装robotframework-selenium2library==3.0.0&amp; robotframework==4.0.3</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pip3 install --no-index --find-links=file:/root/software/pip_package robotframework-selenium2library==3.0.0</span><br><span class="line">pip3 install --no-index --find-links=file:/root/software/pip_packagerobotframework==4.0.3</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="找到robot可执行文件放入-usr-bin-目录相当于配置robot可执行文件到全局变量-1"><a href="#找到robot可执行文件放入-usr-bin-目录相当于配置robot可执行文件到全局变量-1" class="headerlink" title="找到robot可执行文件放入/usr/bin 目录相当于配置robot可执行文件到全局变量"></a>找到robot可执行文件放入/usr/bin 目录相当于配置robot可执行文件到全局变量</h3><p>一般robot都在/usr/local/python3/bin目录下</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /usr/<span class="built_in">local</span>/python3/bin</span><br><span class="line">cp robot /usr/bin</span><br></pre></td></tr></table></figure>

<p>至此在离线的Ubuntu16.04.7环境下的robotframework运行环境搭建完毕</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/08/11/Linux%E7%A6%BB%E7%BA%BF%E5%AE%89%E8%A3%85%E6%96%87%E4%BB%B6/" data-id="cks6vx2dp0000wcv66g1ibov0" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux/" rel="tag">Linux</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/2021/08/11/hello-world/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Hello World</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/" rel="tag">Linux</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Linux/" style="font-size: 10px;">Linux</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">August 2021</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2021/08/11/Linux%E7%A6%BB%E7%BA%BF%E5%AE%89%E8%A3%85%E6%96%87%E4%BB%B6/">Linux离线安装文件</a>
          </li>
        
          <li>
            <a href="/2021/08/11/hello-world/">Hello World</a>
          </li>
        
          <li>
            <a href="/2021/08/11/Linux%20Ubuntu%20%E2%86%92%20apt-get%20&%20pip%20%E7%A6%BB%E7%BA%BF%E5%AE%89%E8%A3%85%20python3%207%E5%92%8Crobotf%208b928a1535f544eab0f6402c4588cc6f/%E5%AE%89%E8%A3%85python3%207%203%E4%B8%AD%E5%A6%82%E6%9E%9C%E5%87%BA%E7%8E%B0%E9%97%AE%E9%A2%98%E6%9F%A5%E7%9C%8B%E6%AD%A4%E9%A1%B5%E9%9D%A2%207db0afd0c9f8499caf1a6a31347c659d/">(no title)</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2021 Yuangang Li<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>